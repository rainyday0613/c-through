{"remainingRequest":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bitai/Desktop/c-through/Cafe/frontend/src/components/Map/Map.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/src/components/Map/Map.vue","mtime":1604388619900},{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bitai/Desktop/c-through/Cafe/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5tYXAgewogIHdpZHRoOiAxMDB2dzsKICBoZWlnaHQ6IDEwMHZoOwp9Ci5vdmVybGF5Ym94IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IGF1dG87CiAgLypoZWlnaHQ6IGF1dG87Ki8KICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHBzOi8vdDEuZGF1bWNkbi5uZXQvbG9jYWxpbWcvbG9jYWxpbWFnZXMvMDcvbWFwYXBpZG9jL2JveF9tb3ZpZS5wbmcnKSBuby1yZXBlYXQ7CiAgcGFkZGluZzogMTVweCAxMHB4OwogIG9wYWNpdHk6IDg1JTsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KLm92ZXJsYXlib3ggbGkgewogIGxpc3Qtc3R5bGU6IG5vbmU7Cn0KLyogY3NzIG1haW4gaW1hZ2UqLwoub3ZlcmxheWJveCAuZmlyc3QgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB3aWR0aDogMjQ3cHg7CiAgaGVpZ2h0OiAxMzZweDsKICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHBzOi8vaW1nLmxvdmVwaWsuY29tL3Bob3RvLzQwMTU1Lzc0NTguanBnX3doODYwLmpwZycpOwogIGJhY2tncm91bmQtc2l6ZTogMjQ3cHggMTM2cHg7CiAgbWFyZ2luLWJvdHRvbTogOHB4Owp9Ci5maXJzdCAudGV4dCB7CiAgY29sb3I6IHdoaXRlOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5maXJzdCAucGxhY2VOYW1lIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgYm90dG9tOiAwOwogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsKICBwYWRkaW5nOiA3cHggMTVweDsKICBmb250LXNpemU6IDE0cHg7Cn0KLm92ZXJsYXlib3ggdWwgewogIHdpZHRoOiAyNDdweDsKICBwYWRkaW5nOiAwcHg7Cn0KLm92ZXJsYXlib3ggbGkgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBtYXJnaW4tYm90dG9tOiAycHg7CiAgYmFja2dyb3VuZDogIzJiMmQzNjsKICBwYWRkaW5nOiA1cHggMTBweDsKICBjb2xvcjogI2FhYWJhZjsKICBsaW5lLWhlaWdodDogMTsKfQoub3ZlcmxheWJveCBsaSBzcGFuIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KLm92ZXJsYXlib3ggbGkgLnRpdGxlIHsKICBmb250LXNpemU6IDEzcHg7Cn0KLm92ZXJsYXlib3ggbGk6aG92ZXIgewogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQ6ICNkMjQ1NDU7Cn0K"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/components/Map","sourcesContent":["<template>\n  <div>\n    <div id=\"map\" class=\"map\"></div>\n  </div>\n</template>\n<script>\nimport router from '../../routes'\nimport axios from 'axios'\nimport vuetify_css from 'vuetify/dist/vuetify.min.css';\nimport EventBus from \"@/utils/EventBus\";\n\nexport default {\n  name: 'Map',\n  mounted() {\n    window.kakao && window.kakao.maps\n        ? this.addKakaoMapScript()\n        : this.initMap();\n    EventBus.$on(\"toggle-sidebar\", isOpen => {\n      this.isOpen = isOpen;\n    });\n  },\n  methods: {\n    addKakaoMapScript() {\n      const script = document.createElement(\"script\");\n      /* global kakao */\n      script.onload = () => kakao.maps.load(this.initMap);\n      script.src =\n          \"http:////dapi.kakao.com/v2/maps/sdk.js?appkey=aeb90d46ca50b2629ab2d7f26488cf71&libraries=services\";\n      document.head.appendChild(script);\n    },\n    initMap() {\n      let infowindow = new kakao\n          .maps\n          .InfoWindow({zIndex: 1});\n      let mapContainer = document.getElementById(\"map\");\n      let options = {\n        center: new kakao\n            .maps\n            .LatLng(37.5704163, 126.983138),\n        level: 3\n      };\n      //map에 지도를 생성\n      let map = new kakao\n          .maps\n          .Map(mapContainer, options);\n      //장소 검색 객체를 생성합니다.\n      let ps = new kakao\n          .maps\n          .services\n          .Places();\n      ps.keywordSearch('종각 비트캠프', placesSearchCB);\n      ps.keywordSearch('종로2가 카페', placesSearchCB);\n      ps.keywordSearch('종각역 카페', placesSearchCB);\n      // 키워드 검색 완료 시 호출되는 콜백함수 입니다\n      function placesSearchCB(data, status, pagination) {\n        if (status === kakao.maps.services.Status.OK) {\n          // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해 LatLngBounds 객체에 좌표를 추가합니다\n          let bounds = new kakao\n              .maps\n              .LatLngBounds();\n          for (let i = 0; i < data.length; i++) {\n            let a = Math.random() * 10 + 1\n            displayMarker(data[i], a);\n            bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\n          }\n          // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n          map.setBounds(bounds);\n        }\n      }\n      function displayMarker(place, a) {\n        // 마커를 생성하고 지도에 표시합니다\n        let imageSrc = ''\n        if (a > 3 && a < 7) {\n          imageSrc = require(\"@/assets/cafeImage/cafe1.png\")\n        } else if (a > 7) {\n          imageSrc = require(\"@/assets/cafeImage/cafe3.png\")\n        } else {\n          imageSrc = require(\"@/assets/cafeImage/cafe2.png\")\n        }\n        console.log(a)\n        let imageSize = new kakao.maps.Size(65, 65)\n        let markerPositon = new kakao.maps.LatLng(place.y, place.x),\n            markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize)\n        let marker = new kakao.maps.Marker({\n          image: markerImage,\n          position: markerPositon\n        });\n        const place2 = place.place_name\n        marker.setMap(map);\n        // 인포윈도우를 생성하고 지도에 표시합니다\n        // let content = '<div sytle=\"font-size:12px;\">hi</div>' +\n        //                 '<div style=\"padding:50px;font-size:12px;\">' +\n        //                 '<a href=\"https://www.naver.com\" style=\"color:#ff0000\" target=\"_blank\">' +\n        //                 place.place_name + '(체크)</div>'\n        let content = '<div class =\"overlaybox\">' +\n            '    <div class=\"boxtitle\"></div>' +\n            '    <div class=\"first\">' +\n            '        <div class=\"placeName text\">' + place.place_name + '<br>' +\n            '        <span style=\"font-size: 10px\">' + place.address_name + '</span>' +\n            '        </div>' +\n            '    </div>' +\n            '    <ul>' +\n            '        <a id = \"showPeople\">' +\n            '           <li>' +\n            '            <span>혼잡도</span>' +\n            '           </li>' +\n            '        </a>' +\n            '        <a id = \"txt2\">' +\n            '           <li>' +\n            '               <span>즐겨찾기</span>' +\n            '           </li>' +\n            '        </a>' +\n            '        <a id = \"showMenu\">' +\n            '           <li>' +\n            '               <span>주문</span>' +\n            '           </li>' +\n            '        </a>' +\n            '    </ul>' +\n            '</div>'\n        kakao\n            .maps\n            .event\n            .addListener(marker, 'click', function () {\n              // 마커를 클릭하면 장소명이 인포윈도우에 표출됩니다\n              infowindow.setContent(content);\n              infowindow.open(map, marker)\n              let btn1 = document.getElementById(\"showMenu\");\n              let btn2 = document.getElementById(\"showPeople\");\n              let sideBar = document.getElementById(\"vps-sidebar\")\n              btn1.onclick = function () {\n                router.push({name: 'Menu', params: {'place': place.place_name}});\n              }\n              btn2.onclick = function () {\n                window.open('http://localhost:1234/opencv/' + place2)\n              }\n            });\n      }\n    },\n    toggle() {\n      this.$emit(\"toggle\");\n    }\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: true\n    }\n  }\n};\n</script>\n<style>\n.map {\n  width: 100vw;\n  height: 100vh;\n}\n.overlaybox {\n  position: relative;\n  width: auto;\n  /*height: auto;*/\n  background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/box_movie.png') no-repeat;\n  padding: 15px 10px;\n  opacity: 85%;\n  border-radius: 5px;\n}\n.overlaybox li {\n  list-style: none;\n}\n/* css main image*/\n.overlaybox .first {\n  position: relative;\n  width: 247px;\n  height: 136px;\n  background: url('https://img.lovepik.com/photo/40155/7458.jpg_wh860.jpg');\n  background-size: 247px 136px;\n  margin-bottom: 8px;\n}\n.first .text {\n  color: white;\n  font-weight: bold;\n}\n.first .placeName {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.2);\n  padding: 7px 15px;\n  font-size: 14px;\n}\n.overlaybox ul {\n  width: 247px;\n  padding: 0px;\n}\n.overlaybox li {\n  position: relative;\n  margin-bottom: 2px;\n  background: #2b2d36;\n  padding: 5px 10px;\n  color: #aaabaf;\n  line-height: 1;\n}\n.overlaybox li span {\n  display: inline-block;\n}\n.overlaybox li .title {\n  font-size: 13px;\n}\n.overlaybox li:hover {\n  color: #fff;\n  background: #d24545;\n}\n</style>\n"]}]}